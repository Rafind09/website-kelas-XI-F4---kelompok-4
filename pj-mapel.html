<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="theme" content="tema-2"/>
  <title>PJ Mapel - XI F4 SMAN 103 Jakarta</title>
  <style>
    /* Tema 2 (berwarna) */
    :root{
      --bg:#0d0d0d; --card:#151515; --ink:#fff; --muted:#9ca3af; --line:#272727;
      --g1:#ffffff; --g2:#dcdcdc; --g3:#989898;
      --container:1200px; --nav-h:85px; --radius:24px;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{background:var(--bg);color:var(--ink);font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;min-height:100vh;overflow-x:hidden}

    /* Progress + Particles */
    .progress-bar{position:fixed;top:var(--nav-h);left:0;height:4px;background:linear-gradient(90deg,#22c55e,#06b6d4,#a855f7);width:0;z-index:2999;transition:width .1s;box-shadow:0 0 15px rgba(34,197,94,.6)}
    #particles{position:fixed;inset:0;z-index:0;pointer-events:none;opacity:.7}

    /* NAVBAR tema 2 */
    nav{
      position:fixed;inset:0 0 auto 0;height:var(--nav-h);z-index:3000;
      background:rgba(10,10,10,.95);-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);
      border-bottom:1px solid rgba(255,255,255,.06);
      box-shadow:0 10px 40px rgba(0,0,0,.7);
    }
    .nav-content{
      max-width:var(--container);height:100%;
      margin:0 auto;padding:0 1.25rem;
      display:flex;align-items:center;justify-content:flex-start;gap:18px;
    }
    .logo{flex:0 0 auto;display:flex;align-items:center}
    .logo img{height:56px;filter:drop-shadow(0 2px 8px rgba(255,255,255,.18));transition:.25s}
    .logo:hover img{transform:scale(1.04)}
    .nav-links{
      display:flex;align-items:center;gap:.6rem;flex:1 1 auto;
      overflow-x:auto;scrollbar-width:none;
    }
    .nav-links::-webkit-scrollbar{display:none}
    .nav-links a{
      position:relative;white-space:nowrap;text-decoration:none;color:#fff;
      font-weight:800;letter-spacing:.3px;font-size:.96rem;
      padding:.55rem 1.05rem;border-radius:28px;transition:.2s;
    }
    .nav-links a::before{
      content:'';position:absolute;inset:0;border-radius:28px;
      background:linear-gradient(135deg,rgba(255,255,255,.12),transparent);
      opacity:0;transition:opacity .2s;
    }
    .nav-links a:hover::before{opacity:1}
    /* Active underline */
    .nav-links a::after{
      content:'';position:absolute;left:14px;right:14px;bottom:-8px;height:2px;
      background:linear-gradient(90deg,#22c55e,#06b6d4,#a855f7);
      transform:scaleX(0);transform-origin:center;transition:transform .22s ease, opacity .22s ease;opacity:.7;
    }
    .nav-links a:hover::after{transform:scaleX(1)}
    .nav-links a.active::after{transform:scaleX(1);opacity:1}

    /* Hero (ukuran konsisten tema 2) */
    .hero{margin-top:var(--nav-h);min-height:420px;position:relative;display:flex;align-items:center;justify-content:center;overflow:hidden}
    .hero-bg{position:absolute;inset:0;background:url('images/background.jpg') center/cover;filter:brightness(.38);animation:slowZoom 26s ease-in-out infinite alternate}
    @keyframes slowZoom{0%{transform:scale(1)}100%{transform:scale(1.08)}}
    .hero-fade{position:absolute;inset:0;background:linear-gradient(180deg,rgba(10,10,10,.28) 0%,rgba(10,10,10,.7) 60%,var(--bg) 100%);z-index:1}
    #hero3d{position:absolute;inset:0;z-index:2;opacity:.6;mix-blend-mode:screen;pointer-events:none}
    .hero-content{position:relative;z-index:3;text-align:center;padding:3rem 1.25rem;animation:heroReveal .9s ease;max-width:900px;width:100%}
    @keyframes heroReveal{from{opacity:0;transform:translateY(28px)}to{opacity:1;transform:translateY(0)}}
    .hero h1{
      font-size:3.1rem;font-weight:900;letter-spacing:1.5px;margin-bottom:.8rem;
      background:linear-gradient(135deg,#fff,#dcdcdc);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
      text-shadow:0 4px 20px rgba(255,255,255,.22);
    }
    .hero p{font-size:1.14rem;color:rgba(255,255,255,.92);font-weight:600;margin-bottom:1.4rem}
    .hero-badge{
      display:inline-block;padding:.9rem 2rem;background:rgba(255,255,255,.12);backdrop-filter:blur(18px);
      border:2px solid rgba(255,255,255,.22);border-radius:50px;font-weight:800;letter-spacing:1.2px;font-size:1rem;
      box-shadow:0 10px 40px rgba(0,0,0,.5);transition:.25s;cursor:pointer
    }
    .hero-badge:hover{transform:scale(1.06);background:rgba(255,255,255,.18)}

    /* Container */
    .container{max-width:var(--container);margin:3.5rem auto;padding:0 1.25rem;position:relative;z-index:10}

    /* Stats */
    .stats{display:flex;gap:1.6rem;justify-content:center;flex-wrap:wrap;margin-bottom:2.6rem}
    .stat-card{
      background:linear-gradient(145deg,#1f1f1f,#0f0f0f);backdrop-filter:blur(16px);
      border:1px solid rgba(255,255,255,.12);border-radius:20px;padding:1.6rem 2.2rem;text-align:center;min-width:220px;
      box-shadow:0 18px 48px rgba(0,0,0,.55);transition:.3s;position:relative;overflow:hidden;cursor:pointer
    }
    .stat-card:hover{transform:translateY(-8px)}
    .stat-number{font-size:3rem;font-weight:900;margin-bottom:.3rem;background:linear-gradient(135deg,#22c55e,#06b6d4);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .stat-label{color:var(--muted);font-size:1rem;font-weight:800;letter-spacing:.9px}

    /* Filter bar */
    .filter-bar{
      display:flex;gap:1.2rem;justify-content:space-between;align-items:center;flex-wrap:wrap;margin-bottom:2.6rem;padding:1.5rem;
      background:rgba(255,255,255,.04);backdrop-filter:blur(20px);border-radius:20px;border:1px solid rgba(255,255,255,.1);box-shadow:0 15px 50px rgba(0,0,0,.5)
    }
    .search-wrapper{flex:1;min-width:320px;position:relative}
    .search-input{
      width:100%;background:rgba(255,255,255,.06);border:2px solid rgba(255,255,255,.15);
      border-radius:50px;padding:1rem 1.6rem 1rem 3.3rem;outline:none;color:#fff;font-size:1.02rem;transition:.25s;font-weight:600
    }
    .search-input::placeholder{color:rgba(255,255,255,.45)}
    .search-input:focus{border-color:rgba(255,255,255,.4);box-shadow:0 0 0 5px rgba(255,255,255,.08);background:rgba(255,255,255,.1)}
    .search-icon{
      position:absolute;left:1.3rem;top:50%;transform:translateY(-50%);width:20px;height:20px;opacity:.7;
      background:no-repeat center/contain url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><circle cx='9' cy='9' r='7'/><line x1='14' y1='14' x2='19' y2='19'/></svg>");
    }
    .filter-tags{display:flex;gap:.8rem;flex-wrap:wrap;align-items:center}
    .tag{padding:.7rem 1.4rem;background:rgba(255,255,255,.08);border:2px solid rgba(255,255,255,.15);border-radius:30px;cursor:pointer;font-weight:800;font-size:.95rem;transition:.25s}
    .tag:hover{transform:translateY(-3px)}
    .tag.active{background:linear-gradient(135deg,#22c55e,#06b6d4);color:#000;border-color:transparent;box-shadow:0 8px 30px rgba(34,197,94,.35)}

    /* Grid and cards (tetap berwarna per mapel) */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(380px,1fr));gap:2.2rem;perspective:2500px}
    .card{
      position:relative;background:linear-gradient(145deg,#1f1f1f 0%,#0f0f0f 100%);
      border-radius:var(--radius);padding:2.4rem;border:1px solid rgba(255,255,255,.1);transition:.6s cubic-bezier(.2,.8,.2,1);
      cursor:pointer;overflow:hidden;transform-style:preserve-3d;box-shadow:0 20px 60px rgba(0,0,0,.7), inset 0 1px 0 rgba(255,255,255,.15)
    }
    .card::before{content:'';position:absolute;left:0;top:0;bottom:0;width:8px;background:linear-gradient(180deg,var(--c1) 0%,var(--c2) 100%);box-shadow:0 0 30px var(--c1), inset 0 0 15px var(--c1);transition:.5s;border-radius:var(--radius) 0 0 var(--radius);filter:brightness(1.2)}
    .card::after{content:'';position:absolute;inset:-2px;border-radius:var(--radius);background:radial-gradient(circle 600px at var(--mx,50%) var(--my,50%),var(--c1) 0%,transparent 50%);opacity:0;transition:opacity .6s;pointer-events:none;filter:blur(20px)}
    .card:hover{transform:translateY(-16px) rotateX(var(--rx,0deg)) rotateY(var(--ry,0deg)) scale(1.03);box-shadow:0 40px 80px rgba(0,0,0,.9),0 0 60px var(--c1)}
    .card:hover::before{width:12px}
    .card:hover::after{opacity:.15}
    .card-glow{position:absolute;inset:-80%;background:conic-gradient(from 0deg at 50% 50%,transparent 0deg,var(--c1) 60deg,var(--c2) 180deg,var(--c1) 300deg,transparent 360deg);animation:rotateGlow 8s linear infinite;opacity:.15;filter:blur(50px)}
    @keyframes rotateGlow{to{transform:rotate(360deg)}}
    .subject{
      font-size:1.9rem;font-weight:900;letter-spacing:1px;margin-bottom:2.1rem;text-transform:uppercase;position:relative;z-index:1;
      background:linear-gradient(135deg,var(--c1) 0%,var(--c2) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 3px 12px var(--c1))
    }
    .pj-list{display:flex;flex-direction:column;gap:1rem;position:relative;z-index:1}
    .pj-item{
      display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem;background:rgba(255,255,255,.05);border-radius:16px;border:1px solid rgba(255,255,255,.1);
      font-weight:800;font-size:1.02rem;transition:.35s;opacity:0;transform:translateX(-40px) scale(.9);backdrop-filter:blur(14px);position:relative;overflow:hidden
    }
    .pj-item::before{content:'';position:absolute;left:0;top:0;bottom:0;width:4px;background:linear-gradient(180deg,var(--c1),var(--c2));transform:scaleY(0);transition:.35s}
    .pj-item.show{opacity:1;transform:translateX(0) scale(1)}
    .pj-item:hover{background:rgba(255,255,255,.12);transform:translateX(10px) scale(1.02);box-shadow:0 10px 30px rgba(0,0,0,.5)}
    .pj-item:hover::before{transform:scaleY(1)}
    .badge{
      min-width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg,var(--c1) 0%,var(--c2) 100%);color:#000;font-weight:900;font-size:1.05rem;
      box-shadow:0 8px 20px rgba(0,0,0,.5), inset 0 2px 6px rgba(255,255,255,.3);transition:.3s
    }
    .pj-item:hover .badge{transform:rotate(360deg) scale(1.12)}
    .name{flex:1;color:#fff;font-size:1.02rem}
    .count{margin-top:2rem;padding-top:1.1rem;border-top:1px solid rgba(255,255,255,.15);color:var(--muted);font-size:.98rem;text-align:right;font-weight:800;position:relative;z-index:1}

    /* Reveal states */
    .card{opacity:0;transform:translateY(50px) scale(.85) rotateX(10deg)}
    .card.reveal{animation:cardReveal .6s cubic-bezier(.2,.8,.2,1) forwards}
    @keyframes cardReveal{to{opacity:1;transform:translateY(0) scale(1) rotateX(0deg)}}

    @media(max-width:1024px){.grid{grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.6rem}.hero h1{font-size:2.6rem}}
    @media(max-width:768px){.grid{grid-template-columns:1fr}.hero h1{font-size:2.1rem}.filter-bar{flex-direction:column;gap:1.2rem}.search-wrapper{width:100%}}
  </style>
</head>
<body data-theme="tema-2">
  <div class="progress-bar" id="progressBar"></div>
  <canvas id="particles"></canvas>

  <nav>
    <div class="nav-content">
      <div class="logo"><a href="index.html"><img src="images/logo.png" alt="Logo SMAN 103"/></a></div>
      <div class="nav-links" role="navigation" aria-label="Menu utama">
        <a href="index.html">Halaman Utama</a>
        <a href="struktur.html">Struktur Kelas</a>
        <a href="daftar-murid.html">Daftar Murid</a>
        <a href="denah.html">Denah Kelas</a>
        <a href="fasilitas.html">Fasilitas</a>
        <a href="jadwal-mapel.html">Jadwal Mapel</a>
        <a href="jadwal-piket.html">Jadwal Piket</a>
        <a href="pj-mapel.html" class="active" aria-current="page">PJ Mapel</a>
      </div>
    </div>
  </nav>

  <header class="hero">
    <div class="hero-bg"></div>
    <div class="hero-fade"></div>
    <canvas id="hero3d"></canvas>
    <div class="hero-content">
      <h1>Penanggung Jawab Mata Pelajaran</h1>
      <p>Kelas XI F4 SMAN 103 Jakarta</p>
      <div class="hero-badge">Tahun Ajaran 2025/2026</div>
    </div>
  </header>

  <main class="container">
    <div class="stats">
      <div class="stat-card">
        <div class="stat-number" id="totalMapel">13</div>
        <div class="stat-label">MATA PELAJARAN</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="totalPJ">24</div>
        <div class="stat-label">PENANGGUNG JAWAB</div>
      </div>
    </div>

    <div class="filter-bar">
      <div class="search-wrapper">
        <span class="search-icon" aria-hidden="true"></span>
        <input id="search" class="search-input" type="text" placeholder="Cari mata pelajaran atau nama penanggung jawab..."/>
      </div>
      <div class="filter-tags">
        <span class="tag active" data-filter="all">Semua</span>
        <span class="tag" data-filter="multi">Tim</span>
        <span class="tag" data-filter="single">Individu</span>
      </div>
    </div>

    <section id="cards" class="grid"></section>
  </main>

  <script>
    // Data berwarna
    const DATA = [
      { mapel:'Ekonomi', pj:['Vino','Calusa'], color:['#22c55e','#16a34a'] },
      { mapel:'Sejarah', pj:['Felicia'], color:['#f97316','#ea580c'] },
      { mapel:'MTL', pj:['Felix','Rafi Indra'], color:['#06b6d4','#0891b2'] },
      { mapel:'Bahasa Indonesia', pj:['Deandra','Felicia','Marcello','Zyva'], color:['#3b82f6','#2563eb'] },
      { mapel:'Bahasa Inggris', pj:['Naufal'], color:['#a855f7','#7c3aed'] },
      { mapel:'Agama Islam', pj:['Rasya','Zyva'], color:['#84cc16','#65a30d'] },
      { mapel:'PKWU', pj:['Clara'], color:['#f59e0b','#d97706'] },
      { mapel:'Informatika', pj:['Syfa'], color:['#0ea5e9','#0284c7'] },
      { mapel:'Seni Tari', pj:['Angeline'], color:['#ec4899','#db2777'] },
      { mapel:'PPKN', pj:['Aisha','Patria'], color:['#ef4444','#dc2626'] },
      { mapel:'PJOK', pj:['Gadiel','Pasha'], color:['#10b981','#0d9488'] },
      { mapel:'MTK Wajib', pj:['Zahra'], color:['#94a3b8','#64748b'] },
      { mapel:'Geografi', pj:['Athar'], color:['#22d3ee','#06b6d4'] },
    ];

    const cards = document.getElementById('cards');
    const search = document.getElementById('search');
    let currentFilter = 'all';

    function renderCards(list=DATA){
      cards.innerHTML = list.map(d=>`
        <article class="card" style="--c1:${d.color[0]};--c2:${d.color[1]}">
          <div class="card-glow"></div>
          <div class="subject">${d.mapel}</div>
          <div class="pj-list">
            ${d.pj.map((n,i)=>`
              <div class="pj-item" style="transition-delay:${i*150}ms">
                <div class="badge">${i+1}</div>
                <div class="name">${n}</div>
              </div>
            `).join('')}
          </div>
          <div class="count">${d.pj.length} Penanggung Jawab</div>
        </article>
      `).join('');
      bindCardTilt();
      updateStats(list);
      requestTick();
    }

    // 3D tilt
    function bindCardTilt(){
      document.querySelectorAll('.card').forEach(c=>{
        c.addEventListener('mousemove', e=>{
          const r = c.getBoundingClientRect();
          const x = e.clientX - r.left, y = e.clientY - r.top;
          const rx = ((y - r.height/2) / (r.height/2)) * 10;
          const ry = ((r.width/2 - x) / (r.width/2)) * 15;
          c.style.setProperty('--rx', rx+'deg');
          c.style.setProperty('--ry', ry+'deg');
          c.style.setProperty('--mx', (x/r.width*100)+'%');
          c.style.setProperty('--my', (y/r.height*100)+'%');
        });
        c.addEventListener('mouseleave', ()=>{
          c.style.setProperty('--rx','0deg');
          c.style.setProperty('--ry','0deg');
        });
      });
    }

    // Stats
    function updateStats(list){
      const total = list.length;
      const totalPJ = list.reduce((s,d)=> s + d.pj.length, 0);
      document.getElementById('totalMapel').textContent = total;
      document.getElementById('totalPJ').textContent = totalPJ;
    }

    // Filters
    function applyFilters(){
      const q = search.value.toLowerCase().trim();
      let list = DATA.filter(d =>
        d.mapel.toLowerCase().includes(q) || d.pj.some(n=> n.toLowerCase().includes(q))
      );
      if (currentFilter === 'multi') list = list.filter(d=> d.pj.length > 1);
      if (currentFilter === 'single') list = list.filter(d=> d.pj.length === 1);
      renderCards(list);
    }
    search.addEventListener('input', applyFilters);
    document.querySelectorAll('.tag').forEach(tag=>{
      tag.addEventListener('click', ()=>{
        document.querySelectorAll('.tag').forEach(t=> t.classList.remove('active'));
        tag.classList.add('active');
        currentFilter = tag.dataset.filter;
        applyFilters();
      });
    });

    // Particles background (berwarna)
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');
    function resizeCanvas(){ canvas.width = innerWidth; canvas.height = innerHeight; }
    resizeCanvas();
    const particles = Array.from({length:120}, ()=>({
      x: Math.random()*canvas.width, y: Math.random()*canvas.height,
      vx: (Math.random()-.5)*.5, vy: (Math.random()-.5)*.5,
      r: Math.random()*2.5+1, opacity: Math.random()*.6+.3,
      color: ['#22c55e','#06b6d4','#a855f7','#f97316'][Math.floor(Math.random()*4)]
    }));
    function animateParticles(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      for (let i=0;i<particles.length;i++){
        const p = particles[i];
        p.x += p.vx; p.y += p.vy;
        if (p.x<0||p.x>canvas.width) p.vx*=-1;
        if (p.y<0||p.y>canvas.height) p.vy*=-1;
        ctx.fillStyle = p.color + Math.floor(p.opacity*255).toString(16).padStart(2,'0');
        ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
        for (let j=i+1;j<particles.length;j++){
          const p2 = particles[j];
          const dx=p.x-p2.x, dy=p.y-p2.y, dist=Math.hypot(dx,dy);
          if (dist<150){ ctx.strokeStyle = p.color + '20'; ctx.lineWidth=.5; ctx.beginPath(); ctx.moveTo(p.x,p.y); ctx.lineTo(p2.x,p2.y); ctx.stroke(); }
        }
      }
      requestAnimationFrame(animateParticles);
    }
    animateParticles();
    addEventListener('resize', ()=>{ resizeCanvas(); resizeHero(); });

    // Hero 3D waves
    const hero3d = document.getElementById('hero3d');
    const ctx3d = hero3d.getContext('2d');
    function resizeHero(){ hero3d.width = innerWidth; hero3d.height = 420; }
    resizeHero();
    const waves = Array.from({length:5}, (_,i)=>({ y:i*90, amplitude:34+i*10, frequency:.018-i*.002, speed:.45+i*.18, phase:Math.random()*Math.PI*2 }));
    (function animateHero3D(){
      ctx3d.clearRect(0,0,hero3d.width,hero3d.height);
      const time = Date.now()*.001;
      waves.forEach((w,i)=>{
        ctx3d.beginPath(); ctx3d.moveTo(0, hero3d.height/2 + w.y);
        for(let x=0;x<=hero3d.width;x+=5){
          const y = hero3d.height/2 + w.y + Math.sin(x*w.frequency + time*w.speed + w.phase)*w.amplitude;
          ctx3d.lineTo(x,y);
        }
        const alpha = 0.45 - (i/waves.length)*0.35;
        ctx3d.strokeStyle = `rgba(255,255,255,${alpha})`; ctx3d.lineWidth=2; ctx3d.stroke();
      });
      requestAnimationFrame(animateHero3D);
    })();

    // Scroll progress + reveal
    addEventListener('scroll', ()=>{
      const h = document.documentElement.scrollHeight - innerHeight;
      const progress = (scrollY / h) * 100;
      document.getElementById('progressBar').style.width = (isFinite(progress)?progress:0) + '%';
      requestTick();
    });

    // Reveal on scroll (appear when in view, hide when out)
    let ticking = false;
    function requestTick(){ if (!ticking){ requestAnimationFrame(updateInView); ticking=true; } }
    function updateInView(){
      const threshold = 120;
      document.querySelectorAll('.card').forEach(card=>{
        const rect = card.getBoundingClientRect();
        const inView = rect.top < (innerHeight - threshold) && rect.bottom > threshold;
        if (inView){
          if (!card.classList.contains('reveal')){
            card.classList.add('reveal');
            card.querySelectorAll('.pj-item').forEach(it=> it.classList.add('show'));
          }
        } else {
          if (card.classList.contains('reveal')){
            card.classList.remove('reveal');
            card.querySelectorAll('.pj-item').forEach(it=> it.classList.remove('show'));
          }
        }
      });
      ticking = false;
    }

    // Initial render
    renderCards();
  </script>
</body>
</html>
